<!DOCTYPE html>
<html>
	<head>
		<script src="http://code.jquery.com/jquery-latest.js" type="text/javascript"></script>

		<link rel="stylesheet" href="css/qunit.css" type="text/css" media="screen" />
		<script type="text/javascript" src="js/qunit.js"></script>

		<link rel="stylesheet" href="css/test.css" type="text/css" media="screen" />
		<script src="https://github.com/doctyper/flexie/raw/master/src/flexie.js" type="text/javascript"></script>
		
		<script type="text/javascript">
			Flexie.test = (function() {
				var prefixes = " -o- -moz- -ms- -webkit- -khtml- ".split(" ");
				
				function appendProperty(target, prop, value) {
					var cssText = [];

					for (i = 0, j = prefixes.length; i < j; i++) {
						cssText.push(prop + ":" + prefixes[i] + value);
					}

					target.style.cssText = cssText.join(";");
					return target;
				}
				
				return {
					parseChildren : function (children) {
						var matches = [];

						children.each(function () {
							var obj = {
								selector : "#" + $(this).attr("id"),
								properties : [],
								match : this
							};

							matches.push(obj);
						});

						return matches;
					},
					
					applyBoxModel : function(params) {
						var element = params.target,
						    support = Flexie.flexboxSupported;
						
						// Start fresh
						// this.reset(element);
						
						if (support) {
							element.style.cssText = "display: -webkit-box; display: -moz-box; display: -o-box; display: -ms-box; display: -khtml-box; display: box;";
							
							for (var key in params) {
								var uc_key = key.charAt(0).toUpperCase() + key.substr(1);
								this.applyProp(element, "box" + uc_key, params[key]);
							}
						}
						
						if (!support || (support && support.partialSupport)) {
							new Flexie.box(params);
						}
					},
					
					applyProp : function(element, prop, value) {
						var uc_prop = prop.charAt(0).toUpperCase() + prop.substr(1),

						props = [
							prop,
							'Webkit' + uc_prop,
							'Moz' + uc_prop,
							'O' + uc_prop,
							'ms' + uc_prop,
							'Khtml' + uc_prop
						];

						for (var i = 0, j = props.length; i < j; i++) {
							element.style[props[i]] = value;
						}
					},
					
					reset : function(element) {
						element.style.cssText = "";
					}
				};
			})();
		</script>
		
		<script type="text/javascript">
			$(document).ready(function() {
				// This is a fix for Gecko
				// Offsets in Gecko do not include border widths
				var offset = function (node, type) {
					var value = node.offset()[type], prev,
					    props = [], el;
					
					if ($.browser.mozilla) {
						props = (type === "left") ? ["Left", "Right"] : [/*"Top", "Bottom"*/];
						
						node.prevAll().each(function (i) {
							el = $(this);
							
							$.each(props, function (i, prop) {
								prop = window.parseInt(el.css("border" + prop + "Width"), 10);
								if (!isNaN(prop)) {
									value += prop;
								}
							});
						});
					}
					
					return value;
				};
				
				var withinOne = function (DOMOffset, expectedOffset) {
					var one = false;
					
					$.each(DOMOffset, function (key, value) {
						if (expectedOffset[key] === value || (expectedOffset[key] - 1) === value || (expectedOffset[key] + 1) === value) {
							one = true;
						}
					});
					
					return one;
				};
				
				var element;
				
				module("box-orient: horizontal, box-align: stretch, box-direction: normal");
					asyncTest("box-pack: start", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "stretch",
							pack : "start",
							direction : "normal"
						});
					
						same(children.eq(0).offset(), {
							top : 57,
							left : 29
						}, "First Child Offset");
						same(children.eq(0).width(), 44, "First Child Width");
						same(children.eq(0).height(), 469, "First Child Height");
					
						same(children.eq(1).offset(), {
							top : 56,
							left : 95
						}, "Second Child Offset");
						same(children.eq(1).width(), 53, "Second Child Width");
						same(children.eq(1).height(), 467, "Second Child Height");
					
						same(children.eq(2).offset(), {
							top : 56,
							left : 177
						}, "Third Child Offset");
						same(children.eq(2).width(), 62, "Third Child Width");
						same(children.eq(2).height(), 469, "Third Child Height");
				
						same(children.eq(3).offset(), {
							top : 55,
							left : 265
						}, "Fourth Child Offset");
						same(children.eq(3).width(), 71, "Fourth Child Width");
						same(children.eq(3).height(), 465, "Fourth Child Height");
						
						start();
					});
					asyncTest("box-pack: end", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "stretch",
							pack : "end",
							direction : "normal"
						});
					
						same(children.eq(0).offset(), {
							top : 57,
							left : 238
						}, "First Child Offset");
						same(children.eq(0).width(), 44, "First Child Width");
						same(children.eq(0).height(), 469, "First Child Height");
					
						same(children.eq(1).offset(), {
							top : 56,
							left : 304
						}, "Second Child Offset");
						same(children.eq(1).width(), 53, "Second Child Width");
						same(children.eq(1).height(), 467, "Second Child Height");
					
						same(children.eq(2).offset(), {
							top : 56,
							left : 386
						}, "Third Child Offset");
						same(children.eq(2).width(), 62, "Third Child Width");
						same(children.eq(2).height(), 469, "Third Child Height");
									
						same(children.eq(3).offset(), {
							top : 55,
							left : 474
						}, "Fourth Child Offset");
						same(children.eq(3).width(), 71, "Fourth Child Width");
						same(children.eq(3).height(), 465, "Fourth Child Height");
						
						start();
					});
					asyncTest("box-pack: center", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "stretch",
							pack : "center",
							direction : "normal"
						});
					
						same(children.eq(0).offset(), {
							top : 57,
							left : 133
						}, "First Child Offset");
						same(children.eq(0).width(), 44, "First Child Width");
						same(children.eq(0).height(), 469, "First Child Height");
					
						same(children.eq(1).offset(), {
							top : 56,
							left : 199
						}, "Second Child Offset");
						same(children.eq(1).width(), 53, "Second Child Width");
						same(children.eq(1).height(), 467, "Second Child Height");
					
						same(children.eq(2).offset(), {
							top : 56,
							left : 281
						}, "Third Child Offset");
						same(children.eq(2).width(), 62, "Third Child Width");
						same(children.eq(2).height(), 469, "Third Child Height");
									
						same(children.eq(3).offset(), {
							top : 55,
							left : 369
						}, "Fourth Child Offset");
						same(children.eq(3).width(), 71, "Fourth Child Width");
						same(children.eq(3).height(), 465, "Fourth Child Height");
						
						start();
					});
					asyncTest("box-pack: justify", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "stretch",
							pack : "justify",
							direction : "normal"
						});
						
						same(true, withinOne(children.eq(0).offset(), {
							top : 57,
							left : 29
						}), "First Child Offset");
						same(children.eq(0).width(), 44, "First Child Width");
						same(children.eq(0).height(), 469, "First Child Height");
				
						same(true, withinOne(children.eq(1).offset(), {
							top : 56,
							left : 164
						}), "Second Child Offset");
						same(children.eq(1).width(), 53, "Second Child Width");
						same(children.eq(1).height(), 467, "Second Child Height");
				
						same(true, withinOne(children.eq(2).offset(), {
							top : 56,
							left : 316
						}), "Third Child Offset");
						same(children.eq(2).width(), 62, "Third Child Width");
						same(children.eq(2).height(), 469, "Third Child Height");
				
						same(true, withinOne(children.eq(3).offset(), {
							top : 55,
							left : 474
						}), "Fourth Child Offset");
						same(children.eq(3).width(), 71, "Fourth Child Width");
						same(children.eq(3).height(), 465, "Fourth Child Height");
					
						start();
					});
				
				module("box-orient: vertical, box-align: stretch, box-direction: normal");
					asyncTest("box-pack: start", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "stretch",
							pack : "start",
							direction : "normal"
						});
						
						same(children.eq(0).offset(), {
							top : 57,
							left : 29
						}, "First Child Offset");
						same(children.eq(0).width(), 449, "First Child Width");
						same(children.eq(0).height(), 44, "First Child Height");

						same(children.eq(1).offset(), {
							top : 117,
							left : 30
						}, "Second Child Offset");
						same(children.eq(1).width(), 442, "Second Child Width");
						same(children.eq(1).height(), 53, "Second Child Height");

						same(children.eq(2).offset(), {
							top : 189,
							left : 31
						}, "Third Child Offset");
						same(children.eq(2).width(), 444, "Third Child Width");
						same(children.eq(2).height(), 62, "Third Child Height");

						same(children.eq(3).offset(), {
							top : 267,
							left : 31
						}, "Fourth Child Offset");
						same(children.eq(3).width(), 449, "Fourth Child Width");
						same(children.eq(3).height(), 71, "Fourth Child Height");

						start();
					});
					asyncTest("box-pack: end", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "stretch",
							pack : "end",
							direction : "normal"
						});
						
						same(children.eq(0).offset(), {
							top : 296,
							left : 29
						}, "First Child Offset");
						same(children.eq(0).width(), 449, "First Child Width");
						same(children.eq(0).height(), 44, "First Child Height");

						same(children.eq(1).offset(), {
							top : 356,
							left : 30
						}, "Second Child Offset");
						same(children.eq(1).width(), 442, "Second Child Width");
						same(children.eq(1).height(), 53, "Second Child Height");

						same(children.eq(2).offset(), {
							top : 428,
							left : 31
						}, "Third Child Offset");
						same(children.eq(2).width(), 444, "Third Child Width");
						same(children.eq(2).height(), 62, "Third Child Height");

						same(children.eq(3).offset(), {
							top : 506,
							left : 31
						}, "Fourth Child Offset");
						same(children.eq(3).width(), 449, "Fourth Child Width");
						same(children.eq(3).height(), 71, "Fourth Child Height");

						start();
					});
					asyncTest("box-pack: center", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "stretch",
							pack : "center",
							direction : "normal"
						});
						
						same(children.eq(0).offset(), {
							top : 176,
							left : 29
						}, "First Child Offset");
						same(children.eq(0).width(), 449, "First Child Width");
						same(children.eq(0).height(), 44, "First Child Height");

						same(children.eq(1).offset(), {
							top : 236,
							left : 30
						}, "Second Child Offset");
						same(children.eq(1).width(), 442, "Second Child Width");
						same(children.eq(1).height(), 53, "Second Child Height");

						same(children.eq(2).offset(), {
							top : 308,
							left : 31
						}, "Third Child Offset");
						same(children.eq(2).width(), 444, "Third Child Width");
						same(children.eq(2).height(), 62, "Third Child Height");

						same(children.eq(3).offset(), {
							top : 386,
							left : 31
						}, "Fourth Child Offset");
						same(children.eq(3).width(), 449, "Fourth Child Width");
						same(children.eq(3).height(), 71, "Fourth Child Height");

						start();
					});
					asyncTest("box-pack: justify", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "stretch",
							pack : "justify",
							direction : "normal"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 57,
							left : 29
						}), "First Child Offset Within One");
						same(children.eq(0).width(), 449, "First Child Width");
						same(children.eq(0).height(), 44, "First Child Height");

						same(true, withinOne(children.eq(1).offset(), {
							top : 196,
							left : 30
						}), "Second Child Offset Within One");
						same(children.eq(1).width(), 442, "Second Child Width");
						same(children.eq(1).height(), 53, "Second Child Height");

						same(true, withinOne(children.eq(2).offset(), {
							top : 348,
							left : 31
						}), "Third Child Offset Within One");
						same(children.eq(2).width(), 444, "Third Child Width");
						same(children.eq(2).height(), 62, "Third Child Height");

						same(true, withinOne(children.eq(3).offset(), {
							top : 506,
							left : 31
						}), "Fourth Child Offset Within One");
						same(children.eq(3).width(), 449, "Fourth Child Width");
						same(children.eq(3).height(), 71, "Fourth Child Height");

						start();
					});
				
				module("box-orient: horizontal, box-align: stretch, box-direction: reverse");
					asyncTest("box-pack: start", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "stretch",
							pack : "start",
							direction : "reverse"
						});
					
						same(children.eq(0).offset(), {
							top : 57,
							left : 290
						}, "First Child Offset");
						same(children.eq(0).width(), 44, "First Child Width");
						same(children.eq(0).height(), 469, "First Child Height");
					
						same(children.eq(1).offset(), {
							top : 56,
							left : 210
						}, "Second Child Offset");
						same(children.eq(1).width(), 53, "Second Child Width");
						same(children.eq(1).height(), 467, "Second Child Height");
					
						same(children.eq(2).offset(), {
							top : 56,
							left : 123
						}, "Third Child Offset");
						same(children.eq(2).width(), 62, "Third Child Width");
						same(children.eq(2).height(), 469, "Third Child Height");
				
						same(children.eq(3).offset(), {
							top : 55,
							left : 31
						}, "Fourth Child Offset");
						same(children.eq(3).width(), 71, "Fourth Child Width");
						same(children.eq(3).height(), 465, "Fourth Child Height");
						
						start();
					});
					asyncTest("box-pack: end", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "stretch",
							pack : "end",
							direction : "reverse"
						});
					
						same(children.eq(0).offset(), {
							top : 57,
							left : 499
						}, "First Child Offset");
						same(children.eq(0).width(), 44, "First Child Width");
						same(children.eq(0).height(), 469, "First Child Height");
					
						same(children.eq(1).offset(), {
							top : 56,
							left : 419
						}, "Second Child Offset");
						same(children.eq(1).width(), 53, "Second Child Width");
						same(children.eq(1).height(), 467, "Second Child Height");
					
						same(children.eq(2).offset(), {
							top : 56,
							left : 332
						}, "Third Child Offset");
						same(children.eq(2).width(), 62, "Third Child Width");
						same(children.eq(2).height(), 469, "Third Child Height");
				
						same(children.eq(3).offset(), {
							top : 55,
							left : 240
						}, "Fourth Child Offset");
						same(children.eq(3).width(), 71, "Fourth Child Width");
						same(children.eq(3).height(), 465, "Fourth Child Height");
						
						start();
					});
					asyncTest("box-pack: center", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "stretch",
							pack : "center",
							direction : "reverse"
						});
					
						same(children.eq(0).offset(), {
							top : 57,
							left : 394
						}, "First Child Offset");
						same(children.eq(0).width(), 44, "First Child Width");
						same(children.eq(0).height(), 469, "First Child Height");
					
						same(children.eq(1).offset(), {
							top : 56,
							left : 314
						}, "Second Child Offset");
						same(children.eq(1).width(), 53, "Second Child Width");
						same(children.eq(1).height(), 467, "Second Child Height");
					
						same(children.eq(2).offset(), {
							top : 56,
							left : 227
						}, "Third Child Offset");
						same(children.eq(2).width(), 62, "Third Child Width");
						same(children.eq(2).height(), 469, "Third Child Height");
				
						same(children.eq(3).offset(), {
							top : 55,
							left : 135
						}, "Fourth Child Offset");
						same(children.eq(3).width(), 71, "Fourth Child Width");
						same(children.eq(3).height(), 465, "Fourth Child Height");
						
						start();
					});
					asyncTest("box-pack: justify", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "stretch",
							pack : "justify",
							direction : "reverse"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 57,
							left : 499
						}), "First Child Offset");
						same(children.eq(0).width(), 44, "First Child Width");
						same(children.eq(0).height(), 469, "First Child Height");
					
						same(true, withinOne(children.eq(1).offset(), {
							top : 56,
							left : 349
						}), "Second Child Offset");
						same(children.eq(1).width(), 53, "Second Child Width");
						same(children.eq(1).height(), 467, "Second Child Height");
					
						same(true, withinOne(children.eq(2).offset(), {
							top : 56,
							left : 192
						}), "Third Child Offset");
						same(children.eq(2).width(), 62, "Third Child Width");
						same(children.eq(2).height(), 469, "Third Child Height");
				
						same(true, withinOne(children.eq(3).offset(), {
							top : 55,
							left : 31
						}), "Fourth Child Offset");
						same(children.eq(3).width(), 71, "Fourth Child Width");
						same(children.eq(3).height(), 465, "Fourth Child Height");
						
						start();
					});
				
				module("box-orient: vertical, box-align: stretch, box-direction: reverse");
					asyncTest("box-pack: start", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "stretch",
							pack : "start",
							direction : "reverse"
						});
					
						same(children.eq(0).offset(), {
							top : 300,
							left : 29
						}, "First Child Offset");
						same(children.eq(0).width(), 449, "First Child Width");
						same(children.eq(0).height(), 44, "First Child Height");
					
						same(children.eq(1).offset(), {
							top : 227,
							left : 30
						}, "Second Child Offset");
						same(children.eq(1).width(), 442, "Second Child Width");
						same(children.eq(1).height(), 53, "Second Child Height");
					
						same(children.eq(2).offset(), {
							top : 148,
							left : 31
						}, "Third Child Offset");
						same(children.eq(2).width(), 444, "Third Child Width");
						same(children.eq(2).height(), 62, "Third Child Height");
				
						same(children.eq(3).offset(), {
							top : 55,
							left : 31
						}, "Fourth Child Offset");
						same(children.eq(3).width(), 449, "Fourth Child Width");
						same(children.eq(3).height(), 71, "Fourth Child Height");
						
						start();
					});
					asyncTest("box-pack: end", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "stretch",
							pack : "end",
							direction : "reverse"
						});
					
						same(children.eq(0).offset(), {
							top : 539,
							left : 29
						}, "First Child Offset");
						same(children.eq(0).width(), 449, "First Child Width");
						same(children.eq(0).height(), 44, "First Child Height");
					
						same(children.eq(1).offset(), {
							top : 466,
							left : 30
						}, "Second Child Offset");
						same(children.eq(1).width(), 442, "Second Child Width");
						same(children.eq(1).height(), 53, "Second Child Height");
					
						same(children.eq(2).offset(), {
							top : 387,
							left : 31
						}, "Third Child Offset");
						same(children.eq(2).width(), 444, "Third Child Width");
						same(children.eq(2).height(), 62, "Third Child Height");
				
						same(children.eq(3).offset(), {
							top : 294,
							left : 31
						}, "Fourth Child Offset");
						same(children.eq(3).width(), 449, "Fourth Child Width");
						same(children.eq(3).height(), 71, "Fourth Child Height");
						
						start();
					});
					asyncTest("box-pack: center", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "stretch",
							pack : "center",
							direction : "reverse"
						});
					
						same(children.eq(0).offset(), {
							top : 419,
							left : 29
						}, "First Child Offset");
						same(children.eq(0).width(), 449, "First Child Width");
						same(children.eq(0).height(), 44, "First Child Height");
					
						same(children.eq(1).offset(), {
							top : 346,
							left : 30
						}, "Second Child Offset");
						same(children.eq(1).width(), 442, "Second Child Width");
						same(children.eq(1).height(), 53, "Second Child Height");
					
						same(children.eq(2).offset(), {
							top : 267,
							left : 31
						}, "Third Child Offset");
						same(children.eq(2).width(), 444, "Third Child Width");
						same(children.eq(2).height(), 62, "Third Child Height");
				
						same(children.eq(3).offset(), {
							top : 174,
							left : 31
						}, "Fourth Child Offset");
						same(children.eq(3).width(), 449, "Fourth Child Width");
						same(children.eq(3).height(), 71, "Fourth Child Height");
						
						start();
					});
					asyncTest("box-pack: justify", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "stretch",
							pack : "justify",
							direction : "reverse"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 539,
							left : 29
						}), "First Child Offset");
						same(children.eq(0).width(), 449, "First Child Width");
						same(children.eq(0).height(), 44, "First Child Height");
					
						same(true, withinOne(children.eq(1).offset(), {
							top : 386,
							left : 30
						}), "Second Child Offset");
						same(children.eq(1).width(), 442, "Second Child Width");
						same(children.eq(1).height(), 53, "Second Child Height");
					
						same(true, withinOne(children.eq(2).offset(), {
							top : 227,
							left : 31
						}), "Third Child Offset");
						same(children.eq(2).width(), 444, "Third Child Width");
						same(children.eq(2).height(), 62, "Third Child Height");
									
						same(true, withinOne(children.eq(3).offset(), {
							top : 55,
							left : 31
						}), "Fourth Child Offset");
						same(children.eq(3).width(), 449, "Fourth Child Width");
						same(children.eq(3).height(), 71, "Fourth Child Height");
						
						start();
					});
				
				module("box-orient: horizontal, box-align: start, box-direction: normal");
					asyncTest("box-pack: start", function () {
						element = $("#box-wrap-inner");
						children = element.children();
				
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "start",
							pack : "start",
							direction : "normal"
						});
						
						same(children.eq(0).offset(), {
							top : 57,
							left : 29
						}, "First Child Offset");
						
						same(children.eq(1).offset(), {
							top : 56,
							left : 95
						}, "Second Child Offset");
						
						same(children.eq(2).offset(), {
							top : 56,
							left : 177
						}, "Third Child Offset");
						
						same(children.eq(3).offset(), {
							top : 55,
							left : 265
						}, "Fourth Child Offset");
				
						start();
					});
					asyncTest("box-pack: end", function () {
						element = $("#box-wrap-inner");
						children = element.children();
				
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "start",
							pack : "end",
							direction : "normal"
						});
						
						same(children.eq(0).offset(), {
							top : 57,
							left : 238
						}, "First Child Offset");
						
						same(children.eq(1).offset(), {
							top : 56,
							left : 304
						}, "Second Child Offset");
						
						same(children.eq(2).offset(), {
							top : 56,
							left : 386
						}, "Third Child Offset");
						
						same(children.eq(3).offset(), {
							top : 55,
							left : 474
						}, "Fourth Child Offset");
				
						start();
					});
					asyncTest("box-pack: center", function () {
						element = $("#box-wrap-inner");
						children = element.children();
				
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "start",
							pack : "center",
							direction : "normal"
						});
						
						same(children.eq(0).offset(), {
							top : 57,
							left : 133
						}, "First Child Offset");
						
						same(children.eq(1).offset(), {
							top : 56,
							left : 199
						}, "Second Child Offset");
						
						same(children.eq(2).offset(), {
							top : 56,
							left : 281
						}, "Third Child Offset");
						
						same(children.eq(3).offset(), {
							top : 55,
							left : 369
						}, "Fourth Child Offset");
				
						start();
					});
					asyncTest("box-pack: justify", function () {
						element = $("#box-wrap-inner");
						children = element.children();
									
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "start",
							pack : "justify",
							direction : "normal"
						});
						
						same(true, withinOne(children.eq(0).offset(), {
							top : 57,
							left : 29
						}), "First Child Offset");
						
						same(true, withinOne(children.eq(1).offset(), {
							top : 56,
							left : 164
						}), "Second Child Offset");
						
						same(true, withinOne(children.eq(2).offset(), {
							top : 56,
							left : 316
						}), "Third Child Offset");
						
						same(true, withinOne(children.eq(3).offset(), {
							top : 55,
							left : 474
						}), "Fourth Child Offset");
									
						start();
					});
				
				module("box-orient: vertical, box-align: start, box-direction: normal");
					asyncTest("box-pack: start", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "start",
							pack : "start",
							direction : "normal"
						});
						
						same(children.eq(0).offset(), {
							top : 57,
							left : 29
						}, "First Child Offset");
						
						same(children.eq(1).offset(), {
							top : 117,
							left : 30
						}, "Second Child Offset");
						
						same(children.eq(2).offset(), {
							top : 189,
							left : 31
						}, "Third Child Offset");
						
						same(children.eq(3).offset(), {
							top : 267,
							left : 31
						}, "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: end", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "start",
							pack : "end",
							direction : "normal"
						});
						
						same(children.eq(0).offset(), {
							top : 296,
							left : 29
						}, "First Child Offset");
						
						same(children.eq(1).offset(), {
							top : 356,
							left : 30
						}, "Second Child Offset");
						
						same(children.eq(2).offset(), {
							top : 428,
							left : 31
						}, "Third Child Offset");
						
						same(children.eq(3).offset(), {
							top : 506,
							left : 31
						}, "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: center", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "start",
							pack : "center",
							direction : "normal"
						});
					
						same(children.eq(0).offset(), {
							top : 176,
							left : 29
						}, "First Child Offset");
					
						same(children.eq(1).offset(), {
							top : 236,
							left : 30
						}, "Second Child Offset");
					
						same(children.eq(2).offset(), {
							top : 308,
							left : 31
						}, "Third Child Offset");
				
						same(children.eq(3).offset(), {
							top : 386,
							left : 31
						}, "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: justify", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "start",
							pack : "justify",
							direction : "normal"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 57,
							left : 29
						}), "First Child Offset");
					
						same(true, withinOne(children.eq(1).offset(), {
							top : 196,
							left : 30
						}), "Second Child Offset");
					
						same(true, withinOne(children.eq(2).offset(), {
							top : 348,
							left : 31
						}), "Third Child Offset");
				
						same(true, withinOne(children.eq(3).offset(), {
							top : 506,
							left : 31
						}), "Fourth Child Offset");
						
						start();
					});
				
				module("box-orient: horizontal, box-align: start, box-direction: reverse");
					asyncTest("box-pack: start", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "start",
							pack : "start",
							direction : "reverse"
						});
					
						same(children.eq(0).offset(), {
							top : 57,
							left : 290
						}, "First Child Offset");
					
						same(children.eq(1).offset(), {
							top : 56,
							left : 210
						}, "Second Child Offset");
					
						same(children.eq(2).offset(), {
							top : 56,
							left : 123
						}, "Third Child Offset");
				
						same(children.eq(3).offset(), {
							top : 55,
							left : 31
						}, "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: end", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "start",
							pack : "end",
							direction : "reverse"
						});
					
						same(children.eq(0).offset(), {
							top : 57,
							left : 499
						}, "First Child Offset");
					
						same(children.eq(1).offset(), {
							top : 56,
							left : 419
						}, "Second Child Offset");
					
						same(children.eq(2).offset(), {
							top : 56,
							left : 332
						}, "Third Child Offset");
				
						same(children.eq(3).offset(), {
							top : 55,
							left : 240
						}, "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: center", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "start",
							pack : "center",
							direction : "reverse"
						});
					
						same(children.eq(0).offset(), {
							top : 57,
							left : 394
						}, "First Child Offset");
					
						same(children.eq(1).offset(), {
							top : 56,
							left : 314
						}, "Second Child Offset");
					
						same(children.eq(2).offset(), {
							top : 56,
							left : 227
						}, "Third Child Offset");
				
						same(children.eq(3).offset(), {
							top : 55,
							left : 135
						}, "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: justify", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "start",
							pack : "justify",
							direction : "reverse"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 57,
							left : 499
						}), "First Child Offset");
					
						same(true, withinOne(children.eq(1).offset(), {
							top : 56,
							left : 349
						}), "Second Child Offset");
					
						same(true, withinOne(children.eq(2).offset(), {
							top : 56,
							left : 192
						}), "Third Child Offset");
				
						same(true, withinOne(children.eq(3).offset(), {
							top : 55,
							left : 31
						}), "Fourth Child Offset");
						
						start();
					});
				
				module("box-orient: vertical, box-align: start, box-direction: reverse");
					asyncTest("box-pack: start", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "start",
							pack : "start",
							direction : "reverse"
						});
					
						same(children.eq(0).offset(), {
							top : 300,
							left : 29
						}, "First Child Offset");
					
						same(children.eq(1).offset(), {
							top : 227,
							left : 30
						}, "Second Child Offset");
					
						same(children.eq(2).offset(), {
							top : 148,
							left : 31
						}, "Third Child Offset");
				
						same(children.eq(3).offset(), {
							top : 55,
							left : 31
						}, "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: end", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "start",
							pack : "end",
							direction : "reverse"
						});
					
						same(children.eq(0).offset(), {
							top : 539,
							left : 29
						}, "First Child Offset");
					
						same(children.eq(1).offset(), {
							top : 466,
							left : 30
						}, "Second Child Offset");
					
						same(children.eq(2).offset(), {
							top : 387,
							left : 31
						}, "Third Child Offset");
				
						same(children.eq(3).offset(), {
							top : 294,
							left : 31
						}, "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: center", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "start",
							pack : "center",
							direction : "reverse"
						});
					
						same(children.eq(0).offset(), {
							top : 419,
							left : 29
						}, "First Child Offset");
					
						same(children.eq(1).offset(), {
							top : 346,
							left : 30
						}, "Second Child Offset");
					
						same(children.eq(2).offset(), {
							top : 267,
							left : 31
						}, "Third Child Offset");
				
						same(children.eq(3).offset(), {
							top : 174,
							left : 31
						}, "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: justify", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "start",
							pack : "justify",
							direction : "reverse"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 539,
							left : 29
						}), "First Child Offset");
					
						same(true, withinOne(children.eq(1).offset(), {
							top : 386,
							left : 30
						}), "Second Child Offset");
					
						same(true, withinOne(children.eq(2).offset(), {
							top : 227,
							left : 31
						}), "Third Child Offset");
				
						same(true, withinOne(children.eq(3).offset(), {
							top : 55,
							left : 31
						}), "Fourth Child Offset");
						
						start();
					});
				
				module("box-orient: horizontal, box-align: end, box-direction: normal");
					asyncTest("box-pack: start", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "end",
							pack : "start",
							direction : "normal"
						});
					
						same(children.eq(0).offset(), {
							top : 539,
							left : 29
						}, "First Child Offset");
					
						same(children.eq(1).offset(), {
							top : 527,
							left : 95
						}, "Second Child Offset");
					
						same(children.eq(2).offset(), {
							top : 520,
							left : 177
						}, "Third Child Offset");
				
						same(children.eq(3).offset(), {
							top : 506,
							left : 265
						}, "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: end", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "end",
							pack : "end",
							direction : "normal"
						});
					
						same(children.eq(0).offset(), {
							top : 539,
							left : 238
						}, "First Child Offset");
					
						same(children.eq(1).offset(), {
							top : 527,
							left : 304
						}, "Second Child Offset");
					
						same(children.eq(2).offset(), {
							top : 520,
							left : 386
						}, "Third Child Offset");
				
						same(children.eq(3).offset(), {
							top : 506,
							left : 474
						}, "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: center", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "end",
							pack : "center",
							direction : "normal"
						});
					
						same(children.eq(0).offset(), {
							top : 539,
							left : 133
						}, "First Child Offset");
					
						same(children.eq(1).offset(), {
							top : 527,
							left : 199
						}, "Second Child Offset");
					
						same(children.eq(2).offset(), {
							top : 520,
							left : 281
						}, "Third Child Offset");
				
						same(children.eq(3).offset(), {
							top : 506,
							left : 369
						}, "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: justify", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "end",
							pack : "justify",
							direction : "normal"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 539,
							left : 29
						}), "First Child Offset");
					
						same(true, withinOne(children.eq(1).offset(), {
							top : 527,
							left : 164
						}), "Second Child Offset");
					
						same(true, withinOne(children.eq(2).offset(), {
							top : 520,
							left : 316
						}), "Third Child Offset");
				
						same(true, withinOne(children.eq(3).offset(), {
							top : 506,
							left : 474
						}), "Fourth Child Offset");
						
						start();
					});
				
				module("box-orient: vertical, box-align: end, box-direction: normal");
					asyncTest("box-pack: start", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "end",
							pack : "start",
							direction : "normal"
						});
					
						same(children.eq(0).offset(), {
							top : 57,
							left : 499
						}, "First Child Offset");
					
						same(children.eq(1).offset(), {
							top : 117,
							left : 484
						}, "Second Child Offset");
					
						same(children.eq(2).offset(), {
							top : 189,
							left : 478
						}, "Third Child Offset");
				
						same(children.eq(3).offset(), {
							top : 267,
							left : 474
						}, "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: end", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "end",
							pack : "end",
							direction : "normal"
						});
					
						same(children.eq(0).offset(), {
							top : 296,
							left : 499
						}, "First Child Offset");
					
						same(children.eq(1).offset(), {
							top : 356,
							left : 484
						}, "Second Child Offset");
					
						same(children.eq(2).offset(), {
							top : 428,
							left : 478
						}, "Third Child Offset");
				
						same(children.eq(3).offset(), {
							top : 506,
							left : 474
						}, "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: center", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "end",
							pack : "center",
							direction : "normal"
						});
					
						same(children.eq(0).offset(), {
							top : 176,
							left : 499
						}, "First Child Offset");
					
						same(children.eq(1).offset(), {
							top : 236,
							left : 484
						}, "Second Child Offset");
					
						same(children.eq(2).offset(), {
							top : 308,
							left : 478
						}, "Third Child Offset");
				
						same(children.eq(3).offset(), {
							top : 386,
							left : 474
						}, "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: justify", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "end",
							pack : "justify",
							direction : "normal"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 57,
							left : 499
						}), "First Child Offset");
					
						same(true, withinOne(children.eq(1).offset(), {
							top : 196,
							left : 484
						}), "Second Child Offset");
					
						same(true, withinOne(children.eq(2).offset(), {
							top : 348,
							left : 478
						}), "Third Child Offset");
				
						same(true, withinOne(children.eq(3).offset(), {
							top : 506,
							left : 474
						}), "Fourth Child Offset");
						
						start();
					});
					
				module("box-orient: horizontal, box-align: end, box-direction: reverse");
					asyncTest("box-pack: start", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "end",
							pack : "start",
							direction : "reverse"
						});
					
						same(children.eq(0).offset(), {
							top : 539,
							left : 290
						}, "First Child Offset");
					
						same(children.eq(1).offset(), {
							top : 527,
							left : 210
						}, "Second Child Offset");
					
						same(children.eq(2).offset(), {
							top : 520,
							left : 123
						}, "Third Child Offset");
				
						same(children.eq(3).offset(), {
							top : 506,
							left : 31
						}, "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: end", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "end",
							pack : "end",
							direction : "reverse"
						});
					
						same(children.eq(0).offset(), {
							top : 539,
							left : 499
						}, "First Child Offset");
					
						same(children.eq(1).offset(), {
							top : 527,
							left : 419
						}, "Second Child Offset");
					
						same(children.eq(2).offset(), {
							top : 520,
							left : 332
						}, "Third Child Offset");
				
						same(children.eq(3).offset(), {
							top : 506,
							left : 240
						}, "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: center", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "end",
							pack : "center",
							direction : "reverse"
						});
					
						same(children.eq(0).offset(), {
							top : 539,
							left : 394
						}, "First Child Offset");
					
						same(children.eq(1).offset(), {
							top : 527,
							left : 314
						}, "Second Child Offset");
					
						same(children.eq(2).offset(), {
							top : 520,
							left : 227
						}, "Third Child Offset");
				
						same(children.eq(3).offset(), {
							top : 506,
							left : 135
						}, "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: justify", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "end",
							pack : "justify",
							direction : "reverse"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 539,
							left : 499
						}), "First Child Offset");
					
						same(true, withinOne(children.eq(1).offset(), {
							top : 527,
							left : 349
						}), "Second Child Offset");
					
						same(true, withinOne(children.eq(2).offset(), {
							top : 520,
							left : 192
						}), "Third Child Offset");
				
						same(true, withinOne(children.eq(3).offset(), {
							top : 506,
							left : 31
						}), "Fourth Child Offset");
						
						start();
					});
				
				module("box-orient: vertical, box-align: end, box-direction: reverse");
					asyncTest("box-pack: start", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "end",
							pack : "start",
							direction : "reverse"
						});
					
						same(children.eq(0).offset(), {
							top : 300,
							left : 499
						}, "First Child Offset");
					
						same(children.eq(1).offset(), {
							top : 227,
							left : 484
						}, "Second Child Offset");
					
						same(children.eq(2).offset(), {
							top : 148,
							left : 478
						}, "Third Child Offset");
				
						same(children.eq(3).offset(), {
							top : 55,
							left : 474
						}, "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: end", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "end",
							pack : "end",
							direction : "reverse"
						});
					
						same(children.eq(0).offset(), {
							top : 539,
							left : 499
						}, "First Child Offset");
					
						same(children.eq(1).offset(), {
							top : 466,
							left : 484
						}, "Second Child Offset");
					
						same(children.eq(2).offset(), {
							top : 387,
							left : 478
						}, "Third Child Offset");
				
						same(children.eq(3).offset(), {
							top : 294,
							left : 474
						}, "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: center", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "end",
							pack : "center",
							direction : "reverse"
						});
					
						same(children.eq(0).offset(), {
							top : 419,
							left : 499
						}, "First Child Offset");
					
						same(children.eq(1).offset(), {
							top : 346,
							left : 484
						}, "Second Child Offset");
					
						same(children.eq(2).offset(), {
							top : 267,
							left : 478
						}, "Third Child Offset");
				
						same(children.eq(3).offset(), {
							top : 174,
							left : 474
						}, "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: justify", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "end",
							pack : "justify",
							direction : "reverse"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 539,
							left : 499
						}), "First Child Offset");
					
						same(true, withinOne(children.eq(1).offset(), {
							top : 386,
							left : 484
						}), "Second Child Offset");
					
						same(true, withinOne(children.eq(2).offset(), {
							top : 227,
							left : 478
						}), "Third Child Offset");
				
						same(true, withinOne(children.eq(3).offset(), {
							top : 55,
							left : 474
						}), "Fourth Child Offset");
						
						start();
					});
				
				module("box-orient: horizontal, box-align: center, box-direction: normal");
					asyncTest("box-pack: start", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "center",
							pack : "start",
							direction : "normal"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 298,
							left : 29
						}), "First Child Offset Within One");
					
						same(true, withinOne(children.eq(1).offset(), {
							top : 291,
							left : 95
						}), "Second Child Offset Within One");
					
						same(true, withinOne(children.eq(2).offset(), {
							top : 288,
							left : 177
						}), "Third Child Offset Within One");
				
						same(true, withinOne(children.eq(3).offset(), {
							top : 280,
							left : 265
						}), "Fourth Child Offset Within One");
						
						start();
					});
					asyncTest("box-pack: end", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "center",
							pack : "end",
							direction : "normal"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 298,
							left : 238
						}), "First Child Offset");
					
						same(true, withinOne(children.eq(1).offset(), {
							top : 291,
							left : 304
						}), "Second Child Offset");
					
						same(true, withinOne(children.eq(2).offset(), {
							top : 288,
							left : 386
						}), "Third Child Offset");
									
						same(true, withinOne(children.eq(3).offset(), {
							top : 280,
							left : 474
						}), "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: center", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "center",
							pack : "center",
							direction : "normal"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 298,
							left : 133
						}), "First Child Offset");
					
						same(true, withinOne(children.eq(1).offset(), {
							top : 291,
							left : 199
						}), "Second Child Offset");
					
						same(true, withinOne(children.eq(2).offset(), {
							top : 288,
							left : 281
						}), "Third Child Offset");
									
						same(true, withinOne(children.eq(3).offset(), {
							top : 280,
							left : 369
						}), "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: justify", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "center",
							pack : "justify",
							direction : "normal"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 298,
							left : 29
						}), "First Child Offset");
					
						same(true, withinOne(children.eq(1).offset(), {
							top : 291,
							left : 164
						}), "Second Child Offset");
					
						same(true, withinOne(children.eq(2).offset(), {
							top : 288,
							left : 316
						}), "Third Child Offset");
									
						same(true, withinOne(children.eq(3).offset(), {
							top : 280,
							left : 474
						}), "Fourth Child Offset");
						
						start();
					});
				
				module("box-orient: vertical, box-align: center, box-direction: normal");
					asyncTest("box-pack: start", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "center",
							pack : "start",
							direction : "normal"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 57,
							left : 264
						}), "First Child Offset");
					
						same(true, withinOne(children.eq(1).offset(), {
							top : 117,
							left : 257
						}), "Second Child Offset");
					
						same(true, withinOne(children.eq(2).offset(), {
							top : 189,
							left : 254
						}), "Third Child Offset");
				
						same(true, withinOne(children.eq(3).offset(), {
							top : 267,
							left : 252
						}), "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: end", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "center",
							pack : "end",
							direction : "normal"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 296,
							left : 264
						}), "First Child Offset");
					
						same(true, withinOne(children.eq(1).offset(), {
							top : 356,
							left : 257
						}), "Second Child Offset");
					
						same(true, withinOne(children.eq(2).offset(), {
							top : 428,
							left : 254
						}), "Third Child Offset");
				
						same(true, withinOne(children.eq(3).offset(), {
							top : 506,
							left : 252
						}), "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: center", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "center",
							pack : "center",
							direction : "normal"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 176,
							left : 264
						}), "First Child Offset");
					
						same(true, withinOne(children.eq(1).offset(), {
							top : 236,
							left : 257
						}), "Second Child Offset");
					
						same(true, withinOne(children.eq(2).offset(), {
							top : 308,
							left : 254
						}), "Third Child Offset");
				
						same(true, withinOne(children.eq(3).offset(), {
							top : 386,
							left : 252
						}), "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: justify", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "center",
							pack : "justify",
							direction : "normal"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 57,
							left : 264
						}), "First Child Offset");
					
						same(true, withinOne(children.eq(1).offset(), {
							top : 196,
							left : 257
						}), "Second Child Offset");
					
						same(true, withinOne(children.eq(2).offset(), {
							top : 348,
							left : 254
						}), "Third Child Offset");
				
						same(true, withinOne(children.eq(3).offset(), {
							top : 506,
							left : 252
						}), "Fourth Child Offset");
						
						start();
					});
				
				module("box-orient: horizontal, box-align: center, box-direction: reverse");
					asyncTest("box-pack: start", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "center",
							pack : "start",
							direction : "reverse"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 298,
							left : 290
						}), "First Child Offset");
					
						same(true, withinOne(children.eq(1).offset(), {
							top : 291,
							left : 210
						}), "Second Child Offset");
					
						same(true, withinOne(children.eq(2).offset(), {
							top : 288,
							left : 123
						}), "Third Child Offset");
				
						same(true, withinOne(children.eq(3).offset(), {
							top : 280,
							left : 31
						}), "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: end", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "center",
							pack : "end",
							direction : "reverse"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 298,
							left : 499
						}), "First Child Offset");
					
						same(true, withinOne(children.eq(1).offset(), {
							top : 291,
							left : 419
						}), "Second Child Offset");
					
						same(true, withinOne(children.eq(2).offset(), {
							top : 288,
							left : 332
						}), "Third Child Offset");
				
						same(true, withinOne(children.eq(3).offset(), {
							top : 280,
							left : 240
						}), "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: center", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "center",
							pack : "center",
							direction : "reverse"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 298,
							left : 394
						}), "First Child Offset");
					
						same(true, withinOne(children.eq(1).offset(), {
							top : 291,
							left : 314
						}), "Second Child Offset");
					
						same(true, withinOne(children.eq(2).offset(), {
							top : 288,
							left : 227
						}), "Third Child Offset");
				
						same(true, withinOne(children.eq(3).offset(), {
							top : 280,
							left : 135
						}), "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: justify", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "horizontal",
							align : "center",
							pack : "justify",
							direction : "reverse"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 298,
							left : 499
						}), "First Child Offset");
					
						same(true, withinOne(children.eq(1).offset(), {
							top : 291,
							left : 349
						}), "Second Child Offset");
					
						same(true, withinOne(children.eq(2).offset(), {
							top : 288,
							left : 192
						}), "Third Child Offset");
				
						same(true, withinOne(children.eq(3).offset(), {
							top : 280,
							left : 31
						}), "Fourth Child Offset");
						
						start();
					});
				
				module("box-orient: vertical, box-align: center, box-direction: reverse");
					asyncTest("box-pack: start", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "center",
							pack : "start",
							direction : "reverse"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 300,
							left : 264
						}), "First Child Offset");
					
						same(true, withinOne(children.eq(1).offset(), {
							top : 227,
							left : 257
						}), "Second Child Offset");
					
						same(true, withinOne(children.eq(2).offset(), {
							top : 148,
							left : 254
						}), "Third Child Offset");
				
						same(true, withinOne(children.eq(3).offset(), {
							top : 55,
							left : 252
						}), "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: end", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "center",
							pack : "end",
							direction : "reverse"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 539,
							left : 264
						}), "First Child Offset");
					
						same(true, withinOne(children.eq(1).offset(), {
							top : 466,
							left : 257
						}), "Second Child Offset");
					
						same(true, withinOne(children.eq(2).offset(), {
							top : 387,
							left : 254
						}), "Third Child Offset");
				
						same(true, withinOne(children.eq(3).offset(), {
							top : 294,
							left : 252
						}), "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: center", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "center",
							pack : "center",
							direction : "reverse"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 419,
							left : 264
						}), "First Child Offset");
					
						same(true, withinOne(children.eq(1).offset(), {
							top : 346,
							left : 257
						}), "Second Child Offset");
					
						same(true, withinOne(children.eq(2).offset(), {
							top : 267,
							left : 254
						}), "Third Child Offset");
				
						same(true, withinOne(children.eq(3).offset(), {
							top : 174,
							left : 252
						}), "Fourth Child Offset");
						
						start();
					});
					asyncTest("box-pack: justify", function () {
						element = $("#box-wrap-inner");
						children = element.children();
					
						Flexie.test.applyBoxModel({
							target : element.get(0),
							children : Flexie.test.parseChildren(children),
							orient : "vertical",
							align : "center",
							pack : "justify",
							direction : "reverse"
						});
					
						same(true, withinOne(children.eq(0).offset(), {
							top : 539,
							left : 264
						}), "First Child Offset");
					
						same(true, withinOne(children.eq(1).offset(), {
							top : 386,
							left : 257
						}), "Second Child Offset");
					
						same(true, withinOne(children.eq(2).offset(), {
							top : 227,
							left : 254
						}), "Third Child Offset");
				
						same(true, withinOne(children.eq(3).offset(), {
							top : 55,
							left : 252
						}), "Fourth Child Offset");
						
						start();
					});
			});
		</script>
	</head>
	<body>
		<div id="qunit-fixture">
			<div id="box-wrap">
				<div id="box-wrap-inner">
					<div id="box-1">1</div>
					<div id="box-2">2</div>
					<div id="box-3">3</div>
					<div id="box-4">4</div>
				</div>
			</div>
		</div>
		<h1 id="qunit-header">QUnit example</h1>
		<h2 id="qunit-banner"></h2>
		<div id="qunit-testrunner-toolbar"></div>
		<h2 id="qunit-userAgent"></h2>
		<ol id="qunit-tests"></ol>
		
		<!-- Google Analytics -->
		<script type="text/javascript">
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-19654083-1']);
			_gaq.push(['_trackPageview']);

			(function() {
				var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		</script>
	</body>
</html>